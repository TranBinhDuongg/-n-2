<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quản lý Đơn hàng Hàng Ngày - Daily</title>
    <link rel="stylesheet" href="Daily.css">
    <script src="Daily.js" defer></script>
</head>
<body>
    <aside class="sidebar">
        <div class="sidebar-header">
            <a href="#" class="logo">
                <i class="fas fa-box"></i>
                <span>Đại lý</span>
            </a>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#" class="menu-link active" data-section="dashboard"><i class="fas fa-home"></i> <span>Bảng điều khiển</span></a></li>
            <li><a href="#" class="menu-link" data-section="orders"><i class="fas fa-cube"></i> <span>Quản lý Đơn hàng</span></a></li>
            <li><a href="#" class="menu-link" data-section="inventory"><i class="fas fa-warehouse"></i> <span>Quản lý Kho</span></a></li>
            <li><a href="#" class="menu-link" data-section="quality"><i class="fas fa-clipboard-check"></i> <span>Kiểm định Chất lượng</span></a></li>
            <li><a href="#" class="menu-link" data-section="reports"><i class="fas fa-chart-bar"></i> <span>Báo cáo thống kê</span></a></li>
            <li class="sidebar-logout">
                <a href="/Dangnhap/Dangnhap.html" class="menu-link"><i class="fas fa-sign-out-alt"></i> <span>Đăng xuất</span></a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <!-- Dashboard -->
        <section id="dashboard" class="page active-page">
            <div class="page-header">
                <h2>Bảng điều khiển</h2>
                <div class="header-actions">
                    <button id="btn-new-order" class="btn">+ Nhập hàng</button>
                    <button id="btn-new-shipment" class="btn">+ Xuất hàng</button>
                </div>
            </div>

            <div class="kpis">
                <div class="kpi">
                    <h3 id="kpi-orders">0</h3>
                    <p>Phiếu nhập</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-shipments">0</h3>
                    <p>Phiếu xuất</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-inventory">0</h3>
                    <p>Kho hàng</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-quality">0</h3>
                    <p>Cảnh báo chất lượng</p>
                </div>
            </div>

            <div class="lists">
                <div class="list">
                    <h4>Đơn hàng gần đây</h4>
                    <table id="table-orders" class="table">
                        <thead><tr><th>ID</th><th>Mã lô</th><th>SL</th><th>Địa chỉ</th><th>Ngày</th><th>Trạng thái</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="list">
                    <h4>Cảnh báo chất lượng</h4>
                    <table id="table-quality-alerts" class="table">
                        <thead><tr><th>ID</th><th>Lô hàng</th><th>Vấn đề</th><th>Ngày</th><th>Mức độ</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Orders -->
        <section id="orders" class="page">
            <div class="page-header">
                <h2>Nhập hàng</h2>
                <button id="btn-create-order" class="btn">+ Nhập hàng mới</button>
            </div>
            <table id="table-orders-all" class="table">
                <thead><tr><th>ID</th><th>Mã lô</th><th>SL</th><th>Địa chỉ gửi</th><th>Địa chỉ nhận</th><th>Ngày</th><th>Trạng thái</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Inventory -->
        <section id="inventory" class="page">
            <div class="page-header">
                <h2>Quản lý Kho</h2>
                <button id="btn-add-inventory" class="btn">+ Phân loại hàng</button>
            </div>
            <table id="table-inventory" class="table">
                <thead><tr><th>ID</th><th>Mã sản phẩm</th><th>Số lượng</th><th>Khu vực</th><th>Ngày nhập</th><th>Trạng thái</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Quality -->
        <section id="quality" class="page">
            <div class="page-header">
                <h2>Kiểm định Chất lượng</h2>
                <button id="btn-create-quality" class="btn">+ Tạo phiếu kiểm định</button>
            </div>
            <table id="table-quality" class="table">
                <thead><tr><th>ID</th><th>Lô hàng</th><th>Ngày kiểm</th><th>Người kiểm</th><th>Kết quả</th><th>Ghi chú</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Reports -->
        <section id="reports" class="page">
            <div class="page-header">
                <h2>Báo cáo thống kê</h2>
            </div>
            <div class="report-cards">
                <div class="report-card">
                    <i class="fas fa-dolly"></i>
                    <h4>Tổng đơn hàng</h4>
                    <div id="report-orders">—</div>
                </div>
                <div class="report-card">
                    <i class="fas fa-truck"></i>
                    <h4>Đã xuất hàng</h4>
                    <div id="report-shipped">—</div>
                </div>
                <div class="report-card">
                    <i class="fas fa-boxes"></i>
                    <h4>Tồn kho</h4>
                    <div id="report-stock">—</div>
                </div>
                <div class="report-card">
                    <i class="fas fa-check-circle"></i>
                    <h4>Đạt chất lượng</h4>
                    <div id="report-quality">—</div>
                </div>
            </div>
        </section>
    </main>

    <template id="create-order-template">
        <form id="createOrderFormModal" class="modal-form">
            <h3>Nhập hàng từ Nông dân</h3>
            <label>Mã phiếu nhập</label>
            <input name="orderId" type="text" placeholder="Mã phiếu (vd: PN001)" required />

            <label>Mã lô</label>
            <input name="batchCode" type="text" placeholder="Mã lô (vd: LO001)" required />

            <label>Số lượng</label>
            <input name="quantity" type="number" min="1" placeholder="Số lượng" required />

            <label>Nông dân / Người gửi</label>
            <select name="farmerId">
                <option value="">-- Chọn nông dân --</option>
            </select>
            <input name="fromAddressManual" type="text" placeholder="Tên hoặc địa chỉ nông dân (nhập tay)" style="display:none;margin-top:8px;" />

            <label>Loại hàng</label>
            <select name="product" disabled>
                <option value="">-- Chọn nông dân trước --</option>
            </select>
            <input name="productManual" type="text" placeholder="Loại hàng (nhập tay)" style="display:none;margin-top:8px;" />

            <label>Địa chỉ kho nhận</label>
            <input name="toAddress" type="text" placeholder="Địa chỉ kho nhận" required />

            <label>Ngày nhập</label>
            <input name="date" type="date" />

            <div style="margin-top:12px;display:flex;gap:8px;justify-content:flex-end;">
                <button type="button" class="btn cancel modal-close-btn">Hủy</button>
                <button type="submit" class="btn">Nhập hàng</button>
            </div>
        </form>
    </template>

    <!-- Modal -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

</body>