<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Nông dân - Quản lý Nông sản</title>
    <link rel="stylesheet" href="Nongdan.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
    <aside class="sidebar">
        <div class="sidebar-header">
            <a href="#" class="logo">
                <i class="fas fa-seedling"></i>
                <span>AgriChain</span>
            </a>
        </div>

        <div class="user-profile">
            <div class="user-avatar">NA</div>
            <div class="user-info">
                <h4>Nguyễn Văn A</h4>
                <p>Nông dân</p>
            </div>
        </div>
        <ul class="sidebar-menu">
            <li class="menu-item">
                <a href="#" class="menu-link active" data-section="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Trang chủ</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="farms">
                    <i class="fas fa-tractor"></i>
                    <span>Trang trại</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="batches">
                    <i class="fas fa-box"></i>
                    <span>Quản lý lô</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="shipments">
                    <i class="fas fa-truck"></i>
                    <span>Vận chuyển</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="warehouses">
                    <i class="fas fa-warehouse"></i>
                    <span>Kho trung gian</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="inspections">
                    <i class="fas fa-clipboard-check"></i>
                    <span>Kiểm định</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="reports">
                    <i class="fas fa-chart-line"></i>
                    <span>Báo cáo</span>
                </a>
            </li>

            <div class="menu-divider"></div>

            <li class="menu-item">
                <a href="#" class="menu-link" data-section="qrcode">
                    <i class="fas fa-qrcode"></i>
                    <span>Mẫu tem QR</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="audit">
                    <i class="fas fa-file-alt"></i>
                    <span>Audit log</span>
                </a>
            </li>
            <li class="menu-item">
                <a href="#" class="menu-link" data-section="alerts">
                    <i class="fas fa-exclamation-triangle"></i>
                    <span>Cảnh báo</span>
                </a>
            </li>

            <div class="menu-divider"></div>

            <li class="menu-item">
                <a href="/Dangnhap/Dangnhap.html" class="menu-link">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Đăng xuất</span>
                </a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <!-- Dashboard -->
        <section id="dashboard" class="page active-page">
            <div class="page-header">
                <h2>Bảng điều khiển</h2>
                <div class="header-actions">
                    <button id="btn-new-batch" class="btn">+ Đăng ký lô mới</button>
                    <button id="btn-new-shipment" class="btn">+ Tạo vận chuyển</button>
                </div>
            </div>

            <div class="kpis">
                <div class="kpi">
                    <h3 id="kpi-farms">0</h3>
                    <p>Trang trại</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-batches">0</h3>
                    <p>Tổng lô</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-inspections">0</h3>
                    <p>Kiểm định</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-alerts">0</h3>
                    <p>Cảnh báo</p>
                </div>
            </div>

            <div class="lists">
                <div class="list">
                    <h4>Các lô gần tới hạn</h4>
                    <table id="table-alerts" class="table">
                        <thead><tr><th>ID</th><th>Sản phẩm</th><th>Hạn dùng</th><th>Trạng thái</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="list">
                    <h4>Vận chuyển đang chạy</h4>
                    <table id="table-shipments" class="table">
                        <thead><tr><th>ID</th><th>From</th><th>To</th><th>Trạng thái</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Farms -->
        <section id="farms" class="page">
            <div class="page-header">
                <h2>Trang trại</h2>
                <button id="btn-new-farm" class="btn">+ Thêm trang trại</button>
            </div>

            <table id="table-farms" class="table">
                <thead><tr><th>ID</th><th>Tên</th><th>Địa chỉ</th><th>Chứng nhận</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Batches -->
        <section id="batches" class="page">
            <div class="page-header">
                <h2>Quản lý lô nông sản</h2>
                <button id="btn-new-batch-2" class="btn">+ Đăng ký lô mới</button>
            </div>

            <table id="table-batches" class="table">
                <thead><tr><th>ID</th><th>Trang trại</th><th>Sản phẩm</th><th>Số lượng</th><th>Hạn dùng</th><th>QR</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Shipments -->
        <section id="shipments" class="page">
            <div class="page-header">
                <h2>Vận chuyển & Kho trung gian</h2>
                <button id="btn-new-shipment-2" class="btn">+ Tạo vận chuyển</button>
            </div>

            <table id="table-shipments-all" class="table">
                <thead><tr><th>ID</th><th>From</th><th>To</th><th>Ngày gửi</th><th>Trạng thái</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Warehouses -->
        <section id="warehouses" class="page">
            <div class="page-header">
                <h2>Kho trung gian</h2>
                <button id="btn-new-warehouse" class="btn">+ Thêm kho</button>
            </div>
            <table id="table-warehouses" class="table">
                <thead><tr><th>ID</th><th>Tên kho</th><th>Vị trí</th><th>Sức chứa</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Inspections -->
        <section id="inspections" class="page">
            <div class="page-header">
                <h2>Kiểm định & Biên bản</h2>
                <button id="btn-new-inspection" class="btn">+ Tạo biên bản</button>
            </div>
            <table id="table-inspections" class="table">
                <thead><tr><th>ID</th><th>Lô</th><th>Kết quả</th><th>Người ký</th><th>Ngày</th><th>Chữ ký</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Reports -->
        <section id="reports" class="page">
            <div class="page-header">
                <h2>Báo cáo</h2>
            </div>
            <div class="report-cards">
                <div class="report-card">
                    <h4>Sản lượng</h4>
                    <div id="report-production">—</div>
                </div>
                <div class="report-card">
                    <h4>Tồn kho</h4>
                    <div id="report-stock">—</div>
                </div>
            </div>
        </section>

        <!-- QR Template -->
        <section id="qrcode" class="page">
            <div class="page-header">
                <h2>Mẫu tem QR & Truy xuất</h2>
            </div>
            <div class="qr-grid">
                <div class="qr-generator">
                    <label for="qr-input">Nội dung QR (ID lô hoặc URL truy xuất)</label>
                    <input id="qr-input" type="text" placeholder="e.g. BATCH-001" />
                    <button id="btn-generate-qr" class="btn">Tạo QR</button>
                    <div class="qr-preview"><img id="qr-img" alt="QR"></div>
                </div>
                <div class="qr-examples">
                    <p>Mẫu tem khuyến nghị (SVG/PNG), mẫu dữ liệu: {"batchId":"BATCH-001","farm":"FARM-1","product":"Cà chua"}</p>
                </div>
            </div>
        </section>

        <!-- Audit log -->
        <section id="audit" class="page">
            <div class="page-header">
                <h2>Audit log</h2>
            </div>
            <table id="table-audit" class="table">
                <thead><tr><th>Thời gian</th><th>Người</th><th>Hành động</th><th>Chi tiết</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Alerts -->
        <section id="alerts" class="page">
            <div class="page-header">
                <h2>Cảnh báo lô</h2>
            </div>
            <table id="table-alerts-all" class="table">
                <thead><tr><th>ID Lô</th><th>Sản phẩm</th><th>Hạn dùng</th><th>Khoảng cách</th><th>Trạng thái</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>
    </main>

    <!-- Modals / Forms -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <script src="Nongdan.js"></script>
</body>