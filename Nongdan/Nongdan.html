<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nông dân</title>
    <link rel="stylesheet" href="Nongdan.css">
    <script src="Nongdan.js" defer></script>
</head>
<body>
    <aside class="sidebar">
        <div class="sidebar-header">
            <div id="user-info" style="display:flex;align-items:center;gap:8px;">
                <span style="color:#673ab7;font-size:20px;"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.7 0 4.8-2.1 4.8-4.8S14.7 2.4 12 2.4 7.2 4.5 7.2 7.2 9.3 12 12 12zm0 2.4c-3.2 0-9.6 1.6-9.6 4.8v2.4h19.2v-2.4c0-3.2-6.4-4.8-9.6-4.8z"/></svg></span>
                <div id="current-user" style="font-weight:bold;cursor:pointer;" title="Xem thông tin cá nhân"></div>
            </div>
        </div>
        <ul class="sidebar-menu">
            <li><a href="#" class="menu-link active" data-section="dashboard"><span>Bảng điều khiển</span></a></li>
            <li><a href="#" class="menu-link" data-section="farms"><span>Quản lý trang trại</span></a></li>
            <li><a href="#" class="menu-link" data-section="orders"><span>Quản lý đơn hàng</span></a></li>
            <li><a href="#" class="menu-link" data-section="batches"><span>Quản lý lô sản phẩm</span></a></li>
            <li><a href="#" class="menu-link" data-section="kho"><span>Quản lý kho</span></a></li>
            <li><a href="#" class="menu-link" data-section="reports"><span>Báo cáo thống kê</span></a></li>
            <li style="border-top:1px solid rgba(255,255,255,0.1);margin-top:10px;padding-top:10px;">
                <a href="/Dangnhap/Dangnhap.html" class="menu-link"><span>Đăng xuất</span></a>
            </li>
        </ul>
    </aside>

    <main class="main-content">
        <section id="dashboard" class="page active-page">
            <div class="page-header">
                <h2>Bảng điều khiển</h2>
                <div class="header-actions">
                    <button id="btn-new-batch" class="btn">+ Đăng ký lô mới</button>
                </div>
            </div>

            <div class="kpis">
                <div class="kpi">
                    <h3 id="kpi-farms">0</h3>
                    <p>Trang trại</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-batches">0</h3>
                    <p>Lô sản phẩm</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-orders">0</h3>
                    <p>Đơn hàng</p>
                </div>
                <div class="kpi">
                    <h3 id="kpi-alerts">0</h3>
                    <p>Cảnh báo</p>
                </div>
            </div>

            <div class="lists">
                <div class="list">
                    <h4>Cảnh báo hạn dùng</h4>
                    <table id="table-alerts" class="table">
                        <thead><tr><th>ID</th><th>Sản phẩm</th><th>Hạn dùng</th><th>Khoảng cách</th><th>Mức độ</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Farms -->
        <section id="farms" class="page">
            <div class="page-header">
                <h2>Quản lý trang trại</h2>
                <button id="btn-new-farm" class="btn">+ Thêm trang trại</button>
            </div>
            <table id="table-farms" class="table">
                <thead><tr><th>ID</th><th>Tên</th><th>Địa chỉ</th><th>Chứng nhận</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Batches -->
        <section id="batches" class="page">
            <div class="page-header">
                <h2>Quản lý lô sản phẩm</h2>
                <button id="btn-new-batch" class="btn">+ Đăng ký lô mới</button>
            </div>
            <table id="table-batches" class="table">
                <thead><tr><th>ID</th><th>Trang trại</th><th>Sản phẩm</th><th>SL</th><th>Hạn dùng</th><th>Trạng thái</th><th>Hành động</th></tr></thead>
                <tbody></tbody>
            </table>
        </section>

        <!-- Shipments -->
        <section id="orders" class="page">
            <div class="page-header">
                <h2>Quản lý đơn hàng</h2>
            </div>
            <div class="lists">
                <div class="list">
                    <h4>Đơn từ Đại lý gửi tới tôi</h4>
                    <table id="table-incoming-orders" class="table">
                        <thead><tr><th>MãPhiếu</th><th>MãLô — Sản phẩm</th><th>SốLượng</th><th>Đại lý</th><th>Ngày tạo</th><th>Trạng thái</th><th>Hành động</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
            <!-- Farmer's own orders table removed; incoming orders handled above -->
        </section>

        <!-- Kho (Nhập / Xuất) -->
        <section id="kho" class="page">
            <div class="page-header">
                <h2>Quản lý kho</h2>
            </div>
            <div class="lists">
                <div class="list">
                    <h4>Tồn kho (Lô sản phẩm của tôi)</h4>
                    <p style="color:#666;margin-bottom:12px;">Danh sách lô sản phẩm đang tồn kho</p>
                    <table id="table-kho-nhap" class="table">
                        <thead><tr><th>Mã lô</th><th>Sản phẩm</th><th>SL</th><th>Trang trại</th><th>Hạn dùng</th><th>Trạng thái</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
                <div class="list">
                    <h4>Lịch sử xuất hàng</h4>
                    <p style="color:#666;margin-bottom:12px;">Danh sách hàng đã xuất cho Đại lý</p>
                    <table id="table-kho-xuat" class="table">
                        <thead><tr><th>Mã đơn</th><th>Mã lô</th><th>SL</th><th>Kho xuất</th><th>Ngày</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </section>

        <!-- Reports -->
        <section id="reports" class="page">
            <div class="page-header">
                <h2>Báo cáo thống kê</h2>
            </div>
            <div class="report-cards">
                <div class="report-card">
                    <i class="fas fa-leaf"></i>
                    <h4>Tổng sản lượng</h4>
                    <div id="report-production">—</div>
                </div>
                <div class="report-card">
                    <i class="fas fa-dolly"></i>
                    <h4>Đã xuất hàng</h4>
                    <div id="report-shipped">—</div>
                </div>
                <div class="report-card">
                    <i class="fas fa-boxes"></i>
                    <h4>Tồn kho</h4>
                    <div id="report-stock">—</div>
                </div>
            </div>
        </section>
    </main>

    <!-- Modal -->
    <div id="modal" class="modal hidden">
        <div class="modal-content">
            <button class="modal-close">&times;</button>
            <div id="modal-body"></div>
        </div>
    </div>
</body>
</html>